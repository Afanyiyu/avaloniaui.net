@page
@model AvaloniaUI.Homepage.Pages.Blog.IndexModel

@using Westwind.AspNetCore.Markdown;

@{
  ViewData["Title"] = "Avalonia Blog";
}

@section Sidebar {
  <h1><span class="white">avalonia</span> blog</h1>
}

<div class="navbar-spacer"></div>

@if (Model.Posts is object)
{
  foreach (var post in Model.Posts)
  {
    <section class="blog-post summary">
      <a href="@Url.Content(@post.Url)"><h1 class="post-title">@post.Title</h1></a>
      <dl>
        <dt class="icon">Published</dt>
        <dd class="icon date">@post.Date.ToString("yyyy-MM-dd")</dd>

        @if (post.FrontMatter?.Author is object)
        {
          <dt class="icon">Author</dt>
          <dd class="icon person">@post.FrontMatter.Author</dd>
        }

        @if (post.FrontMatter?.Categories is object)
        {
          <dt class="icon">Category</dt>
          foreach (var category in post.FrontMatter.Categories)
          {
            <dd class="icon category">@category</dd>
          }
        }

      </dl>
      <p>@Markdown.ParseHtmlString(post.Markdown, sanitizeHtml: true)</p>
    </section>
  }
}
